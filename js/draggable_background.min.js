!function($){var $window=$(window);var limit=function(low,hi,value,bool){if(arguments.length===3||bool){if(value<low){return low}if(value>hi){return hi}}return value};var modifyEventForTouch=function(e){e.clientX=e.originalEvent.touches[0].clientX;e.clientY=e.originalEvent.touches[0].clientY};$.fn.backgroundDraggable=function(options){var options=$.extend({},$.fn.backgroundDraggable.defaults,options);return this.each(function(){var $this=$(this),$bg=$this.css("background-image"),src=$bg.match(/^url\(['"]?(.*?)['"]?\)$/i);if(!$bg||!src){return}var img={width:0,height:0};if(options.bound){var i=new Image;i.onload=function(){img.width=i.width;img.height=i.height};i.src=src[1]}$this.on("mousedown.dbg touchstart.dbg",function(e){e.preventDefault();if(e.originalEvent.touches){modifyEventForTouch(e)}else{if(e.which!==1){return}}var x0=e.clientX,y0=e.clientY,pos=$this.css("background-position").match(/(-?\d+).*?\s(-?\d+)/)||[],xPos=parseInt(pos[1])||0,yPos=parseInt(pos[2])||0;$window.on("mousemove.dbg touchmove.dbg",function(e){e.preventDefault();if(e.originalEvent.touches){modifyEventForTouch(e)}var x=e.clientX,y=e.clientY;xPos=options.axis==="y"?xPos:limit($this.innerWidth()-img.width,0,xPos+x-x0,options.bound);yPos=options.axis==="x"?yPos:limit($this.innerHeight()-img.height,0,yPos+y-y0,options.bound);x0=x;y0=y;$this.css("background-position",xPos+"px "+yPos+"px")})});$window.on("mouseup.dbg touchend.dbg",function(){$window.off("mousemove.dbg touchmove.dbg")})})};$.fn.backgroundDraggable.defaults={bound:false,axis:undefined}}(jQuery);